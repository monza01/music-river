(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1224c105"],{"07d0":function(t,e,a){},1057:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-title"},[t.needBackBtn?a("div",{staticClass:"icon",class:t.iconName,on:{click:t.back}}):t._e(),a("h3",{staticClass:"the-title"},[t._v(t._s(t.pageTitle))])])},i=[],l={name:"PageTitle",props:{iconName:{type:String,default:"icon-angle-left"},pageTitle:{type:String,default:"页面标题"},needBackBtn:{type:Boolean,default:!0},backTo:String},methods:{back:function(){this.backTo?this.$router.push(this.backTo):this.$router.back()}}},n=l,c=(a("8806"),a("2877")),r=Object(c["a"])(n,s,i,!1,null,"3a185879",null);e["a"]=r.exports},1675:function(t,e,a){},"39aa":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"list"},t._l(t.playList,(function(e,s){return a("li",{key:s,staticClass:"item",on:{click:function(a){return t.selectItem(e,s)}}},[a("div",{staticClass:"wrapper",class:t.currentIndex===s?"click-animate":"",on:{click:function(e){return t.setAnimate(s)}}},[t.showCover?a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.setUrl(e.al.picUrl,40,40),expression:"setUrl(item.al.picUrl, 40, 40)"}],staticClass:"cover-img",attrs:{alt:""}}):t._e(),a("div",{staticClass:"index",class:t.isTop3(s)},[t._v(" "+t._s(t.indexFormat(s))+" ")]),a("div",{staticClass:"msg",class:t.setMsgClass(s)},[a("p",{staticClass:"song-name"},[t._v(t._s(e.name))]),a("div",{staticClass:"sub-msg",class:t.setMsgClass(s)},[e.copyright?a("span",{staticClass:"copyright"},[t._v("VIP")]):t._e(),t._l(e.ar,(function(s,i){return a("span",{key:i},[t._v(t._s(s.name)),e.ar.length>i+1?a("span",[t._v("/")]):t._e()])})),a("span",[t._v(" - "+t._s(e.al.name))])],2)]),t.setIconClass(s)?a("span",{staticClass:"playing-icon",class:t.setIconClass(s)}):t._e()])])})),0)},i=[],l=(a("a9e3"),a("fa7d")),n={name:"MusicList",data:function(){return{currentIndex:-1}},props:{playList:Array,specialIndex:{type:Boolean,default:!0},showCover:{type:Boolean,default:!0},currentPlaying:Number},computed:{indexFormat:function(){return function(t){return Object(l["a"])(t)}}},methods:{setAnimate:function(t){var e=this;a&&clearTimeout(a),this.currentIndex=t;var a=setTimeout((function(){e.currentIndex=-1}),300)},isTop3:function(t){if(this.specialIndex)return t<=2?"top3":""},selectItem:function(t,e){this.$emit("select",t,e)},setIconClass:function(t){return this.currentPlaying===t?"icon-audiotrack":""},setMsgClass:function(t){return this.currentPlaying===t?"playing":""}}},c=n,r=(a("acdd"),a("2877")),o=Object(r["a"])(c,s,i,!1,null,"48bc0f72",null);e["a"]=o.exports},"3b42":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t.loading?a("loader"):a("bg-container",{attrs:{"bg-img-url":t.profile.backgroundUrl,"page-title":"个人中心","need-back-btn":!1,"remember-scroll":!0}},[[a("div",{staticClass:"content"},[a("user-card",{staticClass:"the-user-card",attrs:{logged:t.logged,profile:t.profile,level:t.level},on:{loginBtnClicked:t.toLoginPage,logout:t.logout}}),a("div",{staticClass:"favorite",on:{click:function(e){return t.toPlayListDetail(t.favoriteSongs.id)}}},[t.logged?a("img",{staticClass:"coverImg",attrs:{src:t.favoriteSongs.coverImgUrl,alt:""}}):a("img",{staticClass:"coverImg",attrs:{src:"https://p2.music.126.net/2paqLHto1pF9TYUOSvgIIw==/109951165448455035.jpg",alt:""}}),a("div",{staticClass:"msg"},[a("p",{staticClass:"name-msg"},[t._v("我喜欢的音乐")]),a("p",{staticClass:"sub-msg"},[t._v(t._s(t.favoriteSongs.trackCount||0)+"首")])])]),a("div",{staticClass:"created"},[a("div",{staticClass:"the-title"},[t._v(" 创建歌单（"+t._s(t.createdPlaylists.length)+"个） ")]),a("disc-list",{attrs:{"play-list-data":t.createdPlaylists}})],1),a("div",{staticClass:"collected"},[a("div",{staticClass:"the-title"},[t._v(" 收藏歌单（"+t._s(t.collectedPlaylists.length)+"个） ")]),a("disc-list",{attrs:{"play-list-data":t.collectedPlaylists}})],1),a("div",{staticClass:"record"},[a("div",{staticClass:"the-title"},[t._v("最近播放（"+t._s(t.record.length)+"首）")]),a("music-list",{attrs:{"special-index":!1,"play-list":t.record,"current-playing":t.currentPlaying},on:{select:t.selectItem}})],1)],1)]],2)],1)},i=[],l=(a("c740"),a("4160"),a("d81d"),a("159b"),a("5530")),n=a("bc3a"),c=a.n(n),r=a("5880"),o=a("c24f"),u=a("49eb"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-card"},[s("div",{staticClass:"avatar"},[t.logged?s("img",{attrs:{src:t.setUrl(t.profile.avatarUrl,76,76),alt:""}}):s("img",{attrs:{src:a("9653"),alt:""}})]),t.logged?s("div",{staticClass:"nick-name"},[t._v(t._s(t.profile.nickname))]):s("div",{staticClass:"login-now",on:{click:t.loginBtnClicked}},[t._v(" 立即登录 ")]),s("div",{staticClass:"follow"},[s("span",[t._v(t._s(t.profile.follows||0))]),t._v(" 关注 "),s("span",[t._v(t._s(t.profile.followeds||0))]),t._v(" 粉丝 "),s("span",[t._v("Lv."+t._s(t.level))])]),t.logged?s("div",{staticClass:"log-out icon-power-outline",on:{click:t.logout}}):t._e()])},p=[],f=(a("a9e3"),{name:"UserCard",props:{profile:Object,logged:Boolean,level:Number},methods:{loginBtnClicked:function(){this.$emit("loginBtnClicked")},logout:function(){this.$emit("logout")}}}),g=f,m=(a("e863"),a("2877")),h=Object(m["a"])(g,d,p,!1,null,"16196be0",null),v=h.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",t._l(t.playListData,(function(e){return a("li",{key:e.id,staticClass:"disc-item",on:{click:function(a){return t.itemClick(e.id)}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.setUrl(e.coverImgUrl,60,60),expression:"setUrl(item.coverImgUrl, 60, 60)"}],staticClass:"coverImg",attrs:{alt:""}}),a("div",{staticClass:"msg"},[a("p",{staticClass:"name-msg"},[t._v(t._s(e.name))]),a("p",{staticClass:"sub-msg"},[t._v(" "+t._s(e.trackCount)+"首 by "+t._s(e.creator.nickname)+" ")])])])})),0)},b=[],C={name:"DiscList",props:{playListData:Array},methods:{itemClick:function(t){this.bus.$emit("discListClicked",t)}}},k=C,W=(a("9041"),Object(m["a"])(k,y,b,!1,null,"5ac1b71e",null)),A=W.exports,I=a("39aa"),x=a("ac0d"),S={mixins:[x["c"]],name:"Profile",data:function(){return{profile:{},level:0,tags:["创建歌单","收藏歌单","最近播放"],loading:!1,record:[],favoriteSongs:{},createdPlaylists:[],collectedPlaylists:[]}},components:{UserCard:v,BgContainer:u["a"],DiscList:A,MusicList:I["a"]},created:function(){this.logged&&this.getData()},computed:Object(l["a"])(Object(l["a"])({},Object(r["mapGetters"])(["logged","userId","playlist","currentIndex"])),{},{currentPlaying:function(){var t=this;return this.playlist.length>0?this.record.findIndex((function(e){return e.id===t.playlist[t.currentIndex].id})):-1}}),methods:Object(l["a"])(Object(l["a"])({},Object(r["mapActions"])(["selectPlay"])),{},{getData:function(){var t=this;this.loading=!0,c.a.all([Object(o["b"])({uid:this.userId}),Object(o["e"])({uid:this.userId}),Object(o["c"])({uid:this.userId,type:1})]).then(c.a.spread((function(e,a,s){t.profile=e.profile,t.level=e.level,a.playlist.forEach((function(e){e.creator.userId===t.userId?t.createdPlaylists.push(e):t.collectedPlaylists.push(e)})),t.favoriteSongs=t.createdPlaylists[0],t.createdPlaylists.shift(),t.record=s.weekData.map((function(t){return t.song})),t.loading=!1})))},toLoginPage:function(){this.$router.push("/login").catch((function(t){return t}))},toPlayListDetail:function(t){this.logged?this.$router.push({path:"/playlists/detail/".concat(t),query:{type:"music-lists"}}).catch((function(t){return t})):this.$router.push("/login").catch((function(t){return t}))},selectItem:function(t,e){this.selectPlay({list:this.record,index:e})},logout:function(){var t=this;Object(o["i"])().then((function(){t.$cookies.remove("userCookie"),t.$router.push("/profile").catch((function(t){return t})),window.location.reload()}))}}),watch:{logged:function(t){t&&this.getData()}},activated:function(){var t=this;this.bus.$on("discListClicked",(function(e){t.toPlaylistsDetail(e)}))}},w=S,O=(a("8f0e"),Object(m["a"])(w,s,i,!1,null,"fb4e668a",null));e["default"]=O.exports},"49eb":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-container"},[a("div",{staticClass:"bg-wrapper"},[a("transition",{attrs:{name:"fade"}},[a("img",{directives:[{name:"show",rawName:"v-show",value:t.bgImgUrl,expression:"bgImgUrl"}],ref:"bgImage",staticClass:"bg-img",attrs:{src:t.bgImgUrl,alt:""}})]),a("div",{staticClass:"bg-img-wrapper"})],1),a("page-title",{ref:"theTitle",staticClass:"the-page-title",attrs:{pageTitle:t.pageTitle,needBackBtn:t.needBackBtn}}),a("my-scroll",{ref:"myScroll",staticClass:"my-scroll",attrs:{"remember-scroll":t.rememberScroll,listenScroll:!0},on:{scroll:t.handleScroll},scopedSlots:t._u([{key:"scrollContent",fn:function(){return[t._t("default")]},proxy:!0}],null,!0)})],1)},i=[],l=a("dcab"),n=a("1057"),c=a("26a1"),r=a("ac0d"),o=Object(c["a"])("transform"),u={mixins:[r["a"]],name:"BgContainer",props:{bgImgUrl:{type:String,default:""},pageTitle:String,needBackBtn:{type:Boolean,default:!0},titleColor:{type:String,default:"#000"},rememberScroll:{type:Boolean,default:!1}},data:function(){return{scrollY:0}},components:{MyScroll:l["a"],PageTitle:n["a"]},methods:{handleScroll:function(t){this.scrollY=t}},watch:{scrollY:function(t){var e=1;t<=0&&(e=1+Math.abs(t/this.$refs.bgImage.clientHeight)),this.$refs.bgImage.style[o]="translate3d(-10%, -10%, 0) scale(".concat(e,")")}}},d=u,p=(a("638a"),a("2877")),f=Object(p["a"])(d,s,i,!1,null,"d09ad2f0",null);e["a"]=f.exports},"638a":function(t,e,a){"use strict";a("1675")},8806:function(t,e,a){"use strict";a("d98b")},"8f0e":function(t,e,a){"use strict";a("b205")},9041:function(t,e,a){"use strict";a("c96e")},9653:function(t,e){t.exports="data:image/png;base64,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"},ac0d:function(t,e,a){"use strict";a.d(e,"b",(function(){return c})),a.d(e,"d",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return u}));a("4160"),a("a9e3"),a("159b");var s=a("5530"),i=a("2934"),l=a("5880"),n=36,c={data:function(){return{playlistsData:[],loading:!1,more:!0,total:0,pullUpLoad:!0}},props:{cat:String,default:"全部"},created:function(){this.OFFSET=36,this.getPlaylistsData()},methods:{getPlaylistsData:function(){var t=this;Object(i["b"])({limit:n,cat:this.cat,offset:0}).then((function(e){t.playlistsData=e.playlists,t.total=e.total}))},getMoreData:function(){var t=this;!this.loading&&this.more&&(this.loading=!0,Object(i["b"])({limit:n,cat:this.cat,offset:this.OFFSET}).then((function(e){e.playlists.forEach((function(e){t.playlistsData.push(e)})),t.OFFSET+=n,t.loading=!1,t.more=t.playlistsData.length<t.total,t.pullUpLoad=t.more})))}}},r={data:function(){return{singers:[],time:0,loading:!0}},props:{cat:{type:Number,default:1}},created:function(){this.getTopSingers()},methods:{getTopSingers:function(){var t=this;Object(i["o"])({type:this.cat}).then((function(e){t.singers=e.list.artists,t.time=e.list.updateTime,t.loading=!1}))}},computed:{updateTime:function(){var t=new Date(this.time);return t.getMonth()+1+"月"+t.getDate()+"日"}}},o={methods:{toPlaylistsDetail:function(t){this.$router.push({path:"/playlists/detail/".concat(t),query:{type:"music-lists"}}).catch((function(t){return t}))},toRankDetail:function(t){this.$router.push({path:"/playlists/detail/".concat(t),query:{type:"rank"}}).catch((function(t){return t}))}},deactivated:function(){this.bus.$off(["coverClicked","rankClicked"])}},u={computed:Object(s["a"])({},Object(l["mapGetters"])(["playlist"])),mounted:function(){this.playlist.length>0&&(this.$refs.myScroll.$el.style.padding="0 0 0.5rem 0")}}},acdd:function(t,e,a){"use strict";a("07d0")},b205:function(t,e,a){},c96e:function(t,e,a){},cc8a:function(t,e,a){},d81d:function(t,e,a){"use strict";var s=a("23e7"),i=a("b727").map,l=a("1dde"),n=a("ae40"),c=l("map"),r=n("map");s({target:"Array",proto:!0,forced:!c||!r},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},d98b:function(t,e,a){},e863:function(t,e,a){"use strict";a("cc8a")}}]);