(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-303996f6"],{1057:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-title"},[t.needBackBtn?n("div",{staticClass:"icon",class:t.iconName,on:{click:t.back}}):t._e(),n("h3",{staticClass:"the-title"},[t._v(t._s(t.pageTitle))])])},s=[],a={name:"PageTitle",props:{iconName:{type:String,default:"icon-angle-left"},pageTitle:{type:String,default:"页面标题"},needBackBtn:{type:Boolean,default:!0},backTo:String},methods:{back:function(){this.backTo?this.$router.push(this.backTo):this.$router.back()}}},r=a,c=(n("8806"),n("2877")),o=Object(c["a"])(r,i,s,!1,null,"3a185879",null);e["a"]=o.exports},"38a5":function(t,e,n){"use strict";n("8677")},"3b67":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mini-tab-bar",style:t.flexStyle},[t._l(t.tags,(function(e,i){return n("div",{key:i,ref:"tabItems",refInFor:!0,staticClass:"tab-item",class:{current:t.currentTag===i},on:{click:function(e){return t.changeTag(i)}}},[t._v(" "+t._s(e)+" ")])})),n("div",{ref:"border",staticClass:"border",style:t.borderStyle})],2)},s=[],a=n("26a1"),r=Object(a["a"])("transform"),c={name:"MiniTabBar",data:function(){return{currentTag:0,borderWidth:0}},methods:{changeTag:function(t){this.currentTag=t,this.$refs.border.style[r]="translateX(".concat(this.$refs.tabItems[t].offsetLeft,"px)"),this.borderWidth=this.$refs.tabItems[t].offsetWidth,this.$emit("tagClicked",this.currentTag)}},computed:{flexStyle:function(){return"justify-content: ".concat(this.layout)},borderStyle:function(){return"width:".concat(this.borderWidth,"px")}},mounted:function(){this.borderWidth=this.$refs.tabItems[0].offsetWidth},props:{tags:{type:Array,default:function(){return[]}},layout:{type:String,default:"flex-start"}}},o=c,l=(n("5bd8"),n("2877")),u=Object(l["a"])(o,i,s,!1,null,"6fbfc5c6",null);e["a"]=u.exports},"4c6c":function(t,e,n){"use strict";n("5b15")},"5b15":function(t,e,n){},"5bd8":function(t,e,n){"use strict";n("e826")},"62c6":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"singers container"},[n("page-title",{attrs:{"page-title":"歌手榜"}}),n("mini-tab-bar",{ref:"miniTab",staticClass:"mini-tab",attrs:{tags:t.tags,layout:"space-between"},on:{tagClicked:t.changeTag}}),n("transition",[n("keep-alive",[n(t.currentTabComponent,{tag:"component",attrs:{cat:t.currentTag+1}})],1)],1)],1)},s=[],a=n("5530"),r=n("1057"),c=n("3b67"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("category-singers",{attrs:{singers:t.singers,"update-time":t.updateTime,loading:t.loading}})},l=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("my-scroll",{ref:"myScroll",staticClass:"my-scroll",attrs:{"remember-scroll":!0},scopedSlots:t._u([{key:"scrollContent",fn:function(){return[t.loading?n("loader",{staticClass:"the-loader"}):n("div",{staticClass:"content"},[n("div",{staticClass:"updateTime"},[t._v("最近更新:"+t._s(t.updateTime))]),n("singer-list",{attrs:{singers:t.singers},on:{singerClicked:t.toSingerDetail}})],1)]},proxy:!0}])})},d=[],f=n("dcab"),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"singer-list"},t._l(t.singers,(function(e,i){return n("li",{key:e.id,staticClass:"singer",on:{click:function(n){return t.handleClick(e.id)}}},[n("div",{staticClass:"index",class:t.isTop3(i)},[t._v(" "+t._s(t.indexFormat(i))+" "),n("div",{staticClass:"compare"},[n("span",{class:t.difference(e.lastRank,i)},[n("span",{staticClass:"num"},[t._v(t._s(Math.abs(e.lastRank-i)||"-"))])])])]),n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.setUrl(e.img1v1Url,80,80),expression:"setUrl(singer.img1v1Url, 80, 80)"}],staticClass:"avatar",attrs:{alt:""}}),n("div",{staticClass:"msg"},[n("div",{staticClass:"name"},[t._v(t._s(e.name))]),n("div",{staticClass:"album-size"},[t._v("歌曲 ："+t._s(e.musicSize)+" 首")]),n("div",{staticClass:"score"},[n("span",{staticClass:"icon-fire"}),t._v(t._s(e.score)+" ")])])])})),0)},p=[],m=n("fa7d"),h={name:"SingerList",props:{singers:Array},methods:{isTop3:function(t){return t<=2?"top3":""},handleClick:function(t){this.$emit("singerClicked",t)}},computed:{indexFormat:function(){return function(t){return Object(m["a"])(t)}},difference:function(){return function(t,e){return t>e?"icon-triangle-up up":t<e?"icon-triangle-down down":""}}}},b=h,y=(n("4c6c"),n("2877")),C=Object(y["a"])(b,g,p,!1,null,"1756cd43",null),v=C.exports,S=n("ac0d"),_={mixins:[S["a"]],name:"CategorySingers",props:{singers:Array,updateTime:String,loading:{type:Boolean,default:!0}},components:{MyScroll:f["a"],SingerList:v},methods:{toSingerDetail:function(t){this.$router.push("/singer/detail/".concat(t)).catch((function(t){return t}))}}},T=_,E=(n("f477"),Object(y["a"])(T,u,d,!1,null,"01c7eaa9",null)),k=E.exports,x={mixins:[S["d"]],components:{CategorySingers:k}},O=x,$=Object(y["a"])(O,o,l,!1,null,"455f602d",null),j=$.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("category-singers",{attrs:{singers:t.singers,"update-time":t.updateTime,loading:t.loading}})},w=[],A={mixins:[S["d"]],components:{CategorySingers:k}},W=A,I=Object(y["a"])(W,D,w,!1,null,"018b8dcb",null),F=I.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("category-singers",{attrs:{singers:t.singers,"update-time":t.updateTime,loading:t.loading}})},B=[],V={mixins:[S["d"]],components:{CategorySingers:k}},L=V,N=Object(y["a"])(L,M,B,!1,null,"2f691f0a",null),R=N.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("category-singers",{attrs:{singers:t.singers,"update-time":t.updateTime,loading:t.loading}})},H=[],P={mixins:[S["d"]],components:{CategorySingers:k}},z=P,J=Object(y["a"])(z,U,H,!1,null,"7c9244d0",null),q=J.exports,K=n("5880"),G={name:"Singers",components:{PageTitle:r["a"],MiniTabBar:c["a"],ChineseSingers:j,EAndASingers:F,JapaneseSingers:R,KoreaSingers:q},data:function(){return{tags:["华语","欧美","韩国","日本"],currentTag:0,componentsName:["ChineseSingers","EAndASingers","JapaneseSingers","KoreaSingers"]}},methods:Object(a["a"])(Object(a["a"])({},Object(K["mapMutations"])(["SET_CACHE_VIEWS","REMOVE_CACHE_VIEWS"])),{},{changeTag:function(t){this.currentTag=t}}),computed:{currentTabComponent:function(){return this.componentsName[this.currentTag]}},mounted:function(){this.SET_CACHE_VIEWS("Singers")},beforeRouteLeave:function(t,e,n){t.meta.index>e.meta.index?this.SET_CACHE_VIEWS("Singers"):this.REMOVE_CACHE_VIEWS("Singers"),n()}},X=G,Q=(n("38a5"),Object(y["a"])(X,i,s,!1,null,"72e5ec68",null));e["default"]=Q.exports},8677:function(t,e,n){},8806:function(t,e,n){"use strict";n("d98b")},ac0d:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return l})),n.d(e,"a",(function(){return u}));n("4160"),n("a9e3"),n("159b");var i=n("5530"),s=n("2934"),a=n("5880"),r=36,c={data:function(){return{playlistsData:[],loading:!1,more:!0,total:0,pullUpLoad:!0}},props:{cat:String,default:"全部"},created:function(){this.OFFSET=36,this.getPlaylistsData()},methods:{getPlaylistsData:function(){var t=this;Object(s["b"])({limit:r,cat:this.cat,offset:0}).then((function(e){t.playlistsData=e.playlists,t.total=e.total}))},getMoreData:function(){var t=this;!this.loading&&this.more&&(this.loading=!0,Object(s["b"])({limit:r,cat:this.cat,offset:this.OFFSET}).then((function(e){e.playlists.forEach((function(e){t.playlistsData.push(e)})),t.OFFSET+=r,t.loading=!1,t.more=t.playlistsData.length<t.total,t.pullUpLoad=t.more})))}}},o={data:function(){return{singers:[],time:0,loading:!0}},props:{cat:{type:Number,default:1}},created:function(){this.getTopSingers()},methods:{getTopSingers:function(){var t=this;Object(s["o"])({type:this.cat}).then((function(e){t.singers=e.list.artists,t.time=e.list.updateTime,t.loading=!1}))}},computed:{updateTime:function(){var t=new Date(this.time);return t.getMonth()+1+"月"+t.getDate()+"日"}}},l={methods:{toPlaylistsDetail:function(t){this.$router.push({path:"/playlists/detail/".concat(t),query:{type:"music-lists"}}).catch((function(t){return t}))},toRankDetail:function(t){this.$router.push({path:"/playlists/detail/".concat(t),query:{type:"rank"}}).catch((function(t){return t}))}},deactivated:function(){this.bus.$off(["coverClicked","rankClicked"])}},u={computed:Object(i["a"])({},Object(a["mapGetters"])(["playlist"])),mounted:function(){this.playlist.length>0&&(this.$refs.myScroll.$el.style.padding="0 0 0.5rem 0")}}},b826:function(t,e,n){},d98b:function(t,e,n){},e826:function(t,e,n){},f477:function(t,e,n){"use strict";n("b826")}}]);