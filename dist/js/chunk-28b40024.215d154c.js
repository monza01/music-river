(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28b40024"],{1057:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-title"},[t.needBackBtn?a("div",{staticClass:"icon",class:t.iconName,on:{click:t.back}}):t._e(),a("h3",{staticClass:"the-title"},[t._v(t._s(t.pageTitle))])])},s=[],n={name:"PageTitle",props:{iconName:{type:String,default:"icon-angle-left"},pageTitle:{type:String,default:"页面标题"},needBackBtn:{type:Boolean,default:!0},backTo:String},methods:{back:function(){this.backTo?this.$router.push(this.backTo):this.$router.back()}}},c=n,l=(a("8806"),a("2877")),o=Object(l["a"])(c,i,s,!1,null,"3a185879",null);e["a"]=o.exports},"339a":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"test",staticClass:"top3",style:t.background,on:{click:function(e){return t.rankClicked(t.listData.id)}}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.setUrl(t.listData.coverImgUrl,100,100),expression:"setUrl(listData.coverImgUrl, 100, 100)"}],staticClass:"cover",attrs:{alt:""}}),a("div",{staticClass:"list"},[a("div",{staticClass:"sup-msg"},[a("h3",{staticClass:"title"},[t._v(t._s(t.listData.name))]),a("h6",{staticClass:"update-frequency"},[t._v(t._s(t.listData.updateFrequency))])]),a("ul",t._l(t.listData.tracks,(function(e,i){return a("li",{key:i},[a("b",[t._v(t._s("0"+(i+1))+" ")]),a("span",{staticClass:"song-name"},[t._v(t._s(e.first)+" - ")]),a("span",{staticClass:"singer"},[t._v(t._s(e.second))])])})),0)])])},s=[],n={name:"RankSummary",props:{listData:Object,bgColor:{type:String,default:"white"}},computed:{background:function(){return"background-color:"+this.bgColor}},methods:{rankClicked:function(t){this.bus.$emit("rankClicked",t)}}},c=n,l=(a("3dae"),a("2877")),o=Object(l["a"])(c,i,s,!1,null,"54f895e5",null);e["a"]=o.exports},"3dae":function(t,e,a){"use strict";a("c5f9")},4312:function(t,e,a){"use strict";a("4977")},4977:function(t,e,a){},"82a1":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rank-lists container"},[a("page-title",{attrs:{"page-title":"排行榜"}}),a("div",{staticClass:"top-lists"},[a("my-scroll",{ref:"myScroll",attrs:{"remember-scroll":!0},scopedSlots:t._u([{key:"scrollContent",fn:function(){return[t.loading?a("loader"):a("div",{staticClass:"scroll-content"},[a("div",{staticClass:"list-container"},[a("h3",{staticClass:"title"},[t._v("推荐榜单")]),a("div",{staticClass:"recommended"},t._l(t.recommended,(function(e){return a("song-list-cover",{key:e.id,attrs:{detail:e,"sub-msg-type":"updateFrequency"},on:{coverClicked:t.toRankDetail}})})),1)]),a("div",{staticClass:"list-container"},[a("h3",{staticClass:"title"},[t._v("官方榜单")]),a("div",{staticClass:"official"},t._l(t.official,(function(e,i){return a("top3",{key:e.id,attrs:{"list-data":e,"bg-color":t.bgColor[i]}})})),1)]),a("div",{staticClass:"list-container"},[a("h3",{staticClass:"title"},[t._v("精选榜单")]),a("div",{staticClass:"chosen"},t._l(t.chosen,(function(t){return a("song-list-cover",{key:t.id,attrs:{detail:t,"sub-msg-type":"updateFrequency"}})})),1)])])]},proxy:!0}])})],1)],1)},s=[],n=(a("4160"),a("159b"),a("5530")),c=a("2934"),l=a("1057"),o=a("dcab"),r=a("a827"),u=a("339a"),d=a("ac0d"),f=a("5880"),p={mixins:[d["c"],d["a"]],name:"Ranks",data:function(){return{recommended:[],official:[],chosen:[],bgColor:["#eaeff5","#e9f2f1","#f8e9ee","#f8f1eb"],loading:!1}},components:{PageTitle:l["a"],MyScroll:o["a"],SongListCover:r["a"],Top3:u["a"]},created:function(){this.getRanksData()},activated:function(){var t=this;this.bus.$on("coverClicked",(function(e){t.toRankDetail(e)})),this.bus.$on("rankClicked",(function(e){t.toRankDetail(e)}))},mounted:function(){var t=this;this.SET_CACHE_VIEWS("Ranks"),this.bus.$on("coverClicked",(function(e){t.toRankDetail(e)})),this.bus.$on("rankClicked",(function(e){t.toRankDetail(e)}))},methods:Object(n["a"])(Object(n["a"])({},Object(f["mapMutations"])(["SET_CACHE_VIEWS","REMOVE_CACHE_VIEWS"])),{},{getRanksData:function(){var t=this;this.loading=!0,Object(c["h"])().then((function(e){e.list.forEach((function(e,a){a<4?t.official.push(e):180106===e.id||60198===e.id||11641012===e.id?t.recommended.push(e):t.chosen.push(e)})),t.loading=!1}))}}),beforeRouteLeave:function(t,e,a){t.meta.index>e.meta.index?this.SET_CACHE_VIEWS("Ranks"):this.REMOVE_CACHE_VIEWS("Ranks"),a()}},h=p,m=(a("fa33"),a("2877")),v=Object(m["a"])(h,i,s,!1,null,"258a133d",null);e["default"]=v.exports},8806:function(t,e,a){"use strict";a("d98b")},a827:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{on:{click:function(e){return t.coverClicked(t.detail.id)}}},[a("div",{staticClass:"cover"},[t.detail.coverImgUrl?a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.setUrl(t.detail.coverImgUrl,105,105),expression:"setUrl(detail.coverImgUrl, 105, 105)"}],attrs:{alt:""}}):a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.setUrl(t.detail.picUrl,105,105),expression:"setUrl(detail.picUrl, 105, 105)"}],attrs:{alt:""}}),"playCount"===t.subMsgType?a("div",{staticClass:"play-count icon-play"},[t._v(" "+t._s(t.formatPlayCount)+" ")]):a("div",{staticClass:"play-count"},[t._v(t._s(t.detail.updateFrequency))])]),a("div",{staticClass:"title"},[t._v(t._s(t.detail.name))])])},s=[],n=a("fa7d"),c={name:"Cover",props:{detail:Object,subMsgType:{type:String,default:"playCount"}},computed:{formatPlayCount:function(){return Object(n["b"])(this.detail.playCount)}},methods:{coverClicked:function(t){this.bus.$emit("coverClicked",t)}}},l=c,o=(a("4312"),a("2877")),r=Object(o["a"])(l,i,s,!1,null,"2f62ae3a",null);e["a"]=r.exports},ac0d:function(t,e,a){"use strict";a.d(e,"b",(function(){return l})),a.d(e,"d",(function(){return o})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return u}));a("4160"),a("a9e3"),a("159b");var i=a("5530"),s=a("2934"),n=a("5880"),c=36,l={data:function(){return{playlistsData:[],loading:!1,more:!0,total:0,pullUpLoad:!0}},props:{cat:String,default:"全部"},created:function(){this.OFFSET=36,this.getPlaylistsData()},methods:{getPlaylistsData:function(){var t=this;Object(s["b"])({limit:c,cat:this.cat,offset:0}).then((function(e){t.playlistsData=e.playlists,t.total=e.total}))},getMoreData:function(){var t=this;!this.loading&&this.more&&(this.loading=!0,Object(s["b"])({limit:c,cat:this.cat,offset:this.OFFSET}).then((function(e){e.playlists.forEach((function(e){t.playlistsData.push(e)})),t.OFFSET+=c,t.loading=!1,t.more=t.playlistsData.length<t.total,t.pullUpLoad=t.more})))}}},o={data:function(){return{singers:[],time:0,loading:!0}},props:{cat:{type:Number,default:1}},created:function(){this.getTopSingers()},methods:{getTopSingers:function(){var t=this;Object(s["o"])({type:this.cat}).then((function(e){t.singers=e.list.artists,t.time=e.list.updateTime,t.loading=!1}))}},computed:{updateTime:function(){var t=new Date(this.time);return t.getMonth()+1+"月"+t.getDate()+"日"}}},r={methods:{toPlaylistsDetail:function(t){this.$router.push({path:"/playlists/detail/".concat(t),query:{type:"music-lists"}}).catch((function(t){return t}))},toRankDetail:function(t){this.$router.push({path:"/playlists/detail/".concat(t),query:{type:"rank"}}).catch((function(t){return t}))}},deactivated:function(){this.bus.$off(["coverClicked","rankClicked"])}},u={computed:Object(i["a"])({},Object(n["mapGetters"])(["playlist"])),mounted:function(){this.playlist.length>0&&(this.$refs.myScroll.$el.style.padding="0 0 0.5rem 0")}}},b103:function(t,e,a){},c5f9:function(t,e,a){},d98b:function(t,e,a){},fa33:function(t,e,a){"use strict";a("b103")}}]);